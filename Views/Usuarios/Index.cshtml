@model IEnumerable<puceAsk_dev1.Models.ApplicationUser>

@{
    ViewBag.Title = "Index";
}

<h2>Usuarios</h2>


<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.FechaNacimiento)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Foto)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Nombre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Apellido)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Sexo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SaldoCuenta)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
       
        <th>
            @Html.DisplayNameFor(model => model.UserName)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    string imgDataURL = "";
    if (item.Foto != null)
    {
        byte[] foto = item.Foto;
        string imreBase64Data = Convert.ToBase64String(foto);
        imgDataURL = string.Format("data:image/png;base64,{0}", imreBase64Data);
    }
    <tr>
        <td style="width:10%">
            @Html.DisplayFor(modelItem => item.FechaNacimiento)
        </td>
        <td style="width:10%">
             <img alt="Foto" src="@imgDataURL" width="100" height="100" class="fotos" />
        </td>
        <td style="width:10%">
            @Html.DisplayFor(modelItem => item.Nombre)
        </td>
        <td style="width:10%">
            @Html.DisplayFor(modelItem => item.Apellido)
        </td style="width:10%">
        @if (item.Sexo)
        {
        <td style="width:10%">
            Masculino
        </td>
        }
        else
        {
            <td style="width:10%">
                Femenino
            </td>
        }


        <td style="width:5%">
            @Html.DisplayFor(modelItem => item.SaldoCuenta)
        </td>
        <td style="width:10%">
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        
        
        <td style="width:10%">
            @Html.DisplayFor(modelItem => item.UserName)
        </td>
        <td style="width:10%">
            @Html.ActionLink("Editar", "Edit", null, new { id = item.Id }, new { @class = "btn btn-primary", @style = "background-color:darkcyan; border-color:darkcyan" })
            @Html.ActionLink("Gestionar", "Details", null, new { id = item.Id }, new { @class = "btn btn-secondary" })
            @Html.ActionLink("Eliminar", "Delete", null, new { id = item.Id }, new { @class = "btn btn-primary", @style = "background-color:darkred;border-color:darkred" })
        </td>
    </tr>
}

</table>
